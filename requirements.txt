* 본 파일은 개발 진행에 따라 지속적으로 변경 예정

* 소스 작성 규칙
1. 소스 파일 명 마지막에 반드시 버전 번호 기록할것, 수정할 때 원본 두고 수정하고 버전 번호 바꿀것
2. 일단 국내 주식 시장 프로그램 과 미국 주식시장 프르그램은 별도로 작성
    나중에 통합 예정

* 개발 현황 : TODO.md이 항상 기록할것

* 프로그램 목적
1. 국내 및 미국 주식 시장에서 개선된 VWAP 기반 전략으로 거래하는 시스템
    - 종목 최도 50개 까지 모니터링 관리하면서 주문 처리
    - 각 종목마다 서로 다른 지표 파라미터 적용 (향후 다른 전략 선택도 가능해야함)
    - VWAP 계산을 위한 실제 데이타는 kiwoom 및 ibkr  API를 통해서 가져오면 됨

2. 승률보다 수익이 우선
    수익성, MDD, Sharpe 지수 성과 분석 리포트 필요
    날카로운 손절 알고리즘 필요
    수수료 및 슬리피지 감안한 수익 분석 및 수익 고려	

3. 동작 방식
     - 브로커를 통해서 vwap를 계산하기 위한 일봉 데이타도 받고
        실제 거래 데이타도 수신해야함
     - 주문은 dry_run방식으로 시뮬레이션 처리
     - 개장 후 30분 거래 중지, 장 마감 전 30은 매수 중지
     - 이후 DRY_RUN 모드는 주문 처리만 실제 API로 전환하면 
       실거래 가능하도록

4. 프로그램 구현시 고려 사항
   * 각종 활동 기록 - 화면 출력 및 로그파일
   	- 장 중 매도매수 기록 - 일별로 저장
   	- 장 마감시 성과분석 리포트 - 일별로 저장
    * 각 시장 (미국 또는 한국)에 대응하는 브로커를 선택하고 종목 정보를 읽어와서
      종목별 전략, 전략 파라미터를 파악하고 직접 트레이딩할 수 있도록 해야함
      brokers.conf : 브로커로 접속하는 시장의 계좌 정보, 브로커 접속 방법 등 설정 정보
      브로커명_strategies.json : 해당 브로커를 통해서 거래되는 종목에 대한 매도 매수 전략 정보
    * 초기 구현 브로커는 ibkr 과 kiwoom이며 kiwoom은 REST API를 통해야함
      ibkr의 경우 live와 paper모드가 있으므로 필요하면 별도로 만들어도 됨
    * 손절 방법도 브로커명_strategies.json의 각 종목 전략 설정에 포함되어야함

5. 거래용 전략 지표
5.1 종목별 VWAP 

6. 손절 알고리즘 개발 필요
- intraday volatility 기반 손절
- ATR 기반 - 1일치 일봉이 필요?
    
7. to be completed

## ✅ V3.0.0 달성 현황 (2025-08-09)

### 완료된 요구사항
- [x] VWAP 기반 전략 고도화 완료
- [x] 멀티 종목 모니터링 (현재 7개, 최대 50개 확장 가능)
- [x] 종목별 다른 파라미터 적용 (strategy_config_v3.json)
- [x] IBKR API 연동 완료 (라이브/페이퍼 모드)
- [x] DRY_RUN 시뮬레이션 모드 구현
- [x] 날카로운 손절 알고리즘 구현 (키움 동적 손절 포팅)
- [x] 실시간 거래 로그 기록
- [x] 브로커별 전략 설정 분리
- [x] 롱 전용 안전 거래 시스템

### 다음 단계 구현 예정
- [ ] 일별 매매 기록 저장 시스템
- [ ] 장 마감시 성과 분석 리포트
- [ ] 키움 API 연동 (국내 주식)
- [ ] 개장 후/마감 전 30분 거래 제한 로직
- [ ] MDD, Sharpe 지수 분석
- [ ] 수수료/슬리피지 고려한 수익 계산
